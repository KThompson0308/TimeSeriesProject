knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
read_csv("AAPL.csv")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
dta <- read_csv("AAPL.csv")
View(dta)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
apple <- read_csv("AAPL.csv")
summary(apple)
summary(apple)
View(apple)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
apple <- read_csv("AAPL.csv")
irx <- read_csv("IRX.csv")
ccf(irx,apple)
length(irx)
length(irx$Date)
length(irx$Date)
length(apple$Date)
length(drop.na(irx$Date))
length(drop_na(irx$Date))
length(drop_na(irx))
length(apple$Date)
irx2 <- drop_na(irx)
length(irx2$Date)
length(apple$Date)
irx2 <- drop_na(irx$Date)
View(irx)
View(irx2)
?drop_na
irx2 <- drop_na(irx, y=c("null", NA))
irx2 <- drop_na(irx, any_of(c("null", NA)))
irx2 <- drop_na(irx, any_of("null", NA))
irx2 <- drop_na(irx, any_of("null"))
View(irx2)
irx2 <- drop_na(irx$`Adj Close`, any_of("null"))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
apple <- read_csv("AAPL.csv")
irx <- read_csv("IRX.csv")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
apple <- read_csv("AAPL.csv")
irx <- read_csv("IRX.csv", col_types= cols(
`Adj Close` = col_double()
)
)
irx2 <- drop_na(irx$`Adj Close`)
irx2 <- drop_na(irx, `Adj Close`)
View(irx2)
final <- left_join(apple, irx2, by="Date")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
apple <- read_csv("AAPL.csv", col_types=cols(
`Adj Close` = col_double()
))
irx <- read_csv("IRX.csv", col_types= cols(
`Adj Close` = col_double()
)
)
final <- left_join(apple, irx2, by="Date")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
apple <- read_csv("AAPL.csv", col_types=cols(
Date = col_date()
`Adj Close` = col_double()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
apple <- read_csv("AAPL.csv", col_types=cols(
Date = col_date(),
`Adj Close` = col_double()
))
irx <- read_csv("IRX.csv", col_types= cols(
Date = col_date(),
`Adj Close` = col_double()
)
)
irx2 <- drop_na(irx, `Adj Close`)
final = left_join(apple, irx2, by="Date")
View(final)
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
final = left_join(apple, irx2, by="Date")
View(final)
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
final = left_join(apple, irx2, by="Date", keep=TRUE)
View(final)
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
final = left_join(apple, irx2, by="Date")
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
final = right_join(apple, irx2, by="Date")
View(final)
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
final = inner_join(apple, irx2, by="Date")
View(final)
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
final = inner_join(apple, irx2)
View(final)
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
final = inner_join(apple, irx2, keep=TRUE)
View(final)
?left_join
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
final = right_join(apple, irx2, keep=TRUE)
View(final)
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
conames(irx2) <- c("Date","irxclose")
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
colnames(irx2) <- c("Date","irxclose")
final = right_join(apple, irx2, keep=TRUE)
View(final)
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
colnames(irx2) <- c("Date","irxclose")
final = right_join(apple, irx2,by="Date" keep=TRUE)
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
colnames(irx2) <- c("Date","irxclose")
final = right_join(apple, irx2,by="Date", keep=TRUE)
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
colnames(irx2) <- c("Date","irxclose")
final = right_join(apple, irx2,by="Date", keep=TRUE, copy=TRUE)
View(final)
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
colnames(irx2) <- c("Date","irxclose")
final = right_join(apple, irx2, by="Date")
View(final)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
apple <- read_csv("AAPL.csv")
irx <- read.csv("IRX.csv")
summary(apple)
irx2 <- drop_na(irx, `Adj Close`) %>% select(c(Date, `Adj Close`))
summary(apple)
summary(irx)
irx2 <- drop_na(irx, Close) %>% select(c(Date, `Adj Close`))
irx2 <- drop_na(irx, Close) %>% select(c(Date, Close))
colnames(irx2) <- c("Date","irxclose")
final = right_join(apple, irx2, by="Date")
View(final)
View(irx2)
summary(irx2)
summary(irx)
irx2 <- drop_na(irx, Close) %>% select(c(Date, Close))
irx2$Close <- as.numeric(irx2$Close)
final = right_join(apple, irx2)
View(final)
irx2 <- drop_na(irx, Close) %>% select(c(Date, Close))
irx2$Close <- as.numeric(irx2$Close)
final = right_join(apple, irx2, by="Date")
irx$Close <- as.numeric(irx2$Close)
irx2 <- drop_na(irx, Close) %>% select(c(Date, Close))
final = right_join(apple, irx2, by="Date")
View(final)
summary(apple)
summary(irx)
summary(apple)
View(apple)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
apple <- read_csv("kdata/AAPL.csv")
irx <- read.csv("kdata/IRX.csv")
summary(apple)
summary(irx)
summary(apple)
View(apple)
View(irx)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
apple <- read.csv("kdata/AAPL.csv")
irx <- read.csv("kdata/IRX.csv")
summary(apple)
summary(irx)
irx$Close <- as.numeric(irx2$Adj.Close)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
apple <- read.csv("kdata/AAPL.csv")
irx <- read.csv("kdata/IRX.csv")
summary(irx)
irx$Adj.Close <- as.numeric(irx2$Adj.Close)
irx$Adj.Close <- as.numeric(irx$Adj.Close)
irx2 <- drop_na(irx, Adj.Close) %>% select(c(Date, Adj.Close))
final = right_join(apple, irx2, by="Date")
View(final)
ccf(final$Adj.Close.y, final$Adj.Close.x)
d1irx = artrans.wge(final$Adj.Close.y, phi.tr=1)
d1aapl = artrans.wge(final$Adj.Close.x, phi.tr=1)
ccf(d1irx, d1aapl)
d1irx = artrans.wge(final$Adj.Close.y, phi.tr=1, plottr=FALSE)
d1aapl = artrans.wge(final$Adj.Close.x, phi.tr=1,plottr = FALSE)
ccf(d1irx, d1aapl)
?tswge::artrans.wge
d1irx = artrans.wge(final$Adj.Close.y, phi.tr=1, plottr="FALSE")
d1aapl = artrans.wge(final$Adj.Close.x, phi.tr=1,plottr = "FALSE")
ccf(d1irx, d1aapl)
d1irx = artrans.wge(final$Adj.Close.y, phi.tr=1)
d1aapl = artrans.wge(final$Adj.Close.x, phi.tr=1)
ccf(d1irx,d1aapl)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
apple <- read.csv("kdata/AAPL.csv")
irx <- read.csv("kdata/IRX.csv")
fvx <- read.csv("kdata/FVX.csv")
summary(fvx)
irx$Adj.Close <- as.numeric(irx$Adj.Close)
fvx$Adj.Close <- as.numeric(fvx$Adj.Close)
irx2 <- drop_na(irx, Adj.Close) %>% select(c(Date, Adj.Close))
fvx2 <- drop_na(fvx, Adj.Close) %>% select(c(Date, Adj.Close))
final = right_join(apple, irx2, by="Date")
final = right_join(final, fvx2, by="Date")
View(final)
?colnames
irx$Adj.Close <- as.numeric(irx$Adj.Close)
fvx$Adj.Close <- as.numeric(fvx$Adj.Close)
irx2 <- drop_na(irx, Adj.Close) %>% select(c(Date, Adj.Close))
fvx2 <- drop_na(fvx, Adj.Close) %>% select(c(Date, Adj.Close))
colnames(irx2) <- c("Date", "IRX")
colnames(fvx2) <- c("Date", "FVX")
final = right_join(apple, irx2, by="Date")
final = right_join(final, fvx2, by="Date")
View(final)
?mutate
irx$Adj.Close <- as.numeric(irx$Adj.Close)
fvx$Adj.Close <- as.numeric(fvx$Adj.Close)
irx2 <- drop_na(irx, Adj.Close) %>% select(c(Date, Adj.Close))
fvx2 <- drop_na(fvx, Adj.Close) %>% select(c(Date, Adj.Close))
colnames(irx2) <- c("Date", "IRX")
colnames(fvx2) <- c("Date", "FVX")
final = right_join(apple, irx2, by="Date")
final = right_join(final, fvx2, by="Date")
final <- final %>% mutate(rel_yield = FVX/IRX)
View(final)
irx$Adj.Close <- as.numeric(irx$Adj.Close)
fvx$Adj.Close <- as.numeric(fvx$Adj.Close)
irx2 <- drop_na(irx, Adj.Close) %>% select(c(Date, Adj.Close))
fvx2 <- drop_na(fvx, Adj.Close) %>% select(c(Date, Adj.Close))
colnames(irx2) <- c("Date", "IRX")
colnames(fvx2) <- c("Date", "FVX")
final = right_join(apple, irx2, by="Date")
final = right_join(final, fvx2, by="Date")
final <- final %>% mutate(rel_yield = FVX/IRX)
d1aapl = artrans.wge(final$Adj.Close, phi.tr=1)
ccf(final$rel_yield,d1aapl)
d1aapl = artrans.wge(final$Adj.Close, phi.tr=1)
d1rel = artrans.wge(final$rel_yield, phi.tr=1)
ccf(d1rel,d1aapl)
ccf(final$rel_yield,d1aapl)
ccf(final$IRX,d1aapl)
ccf(final$FVX,d1aapl)
ccf(final$FVX,final$Adj.Close)
d1aapl = artrans.wge(final$Adj.Close, phi.tr=1)
d1fvx = artrans.wge(final$FVX, phi.tr=1)
ccf(d1fvx, d1aapl)
mod1 <- lm(Adj.Close ~ IRX+FVX, data=final)
mod1 <- lm(Adj.Close ~ IRX+FVX, data=final)
aic5.wge(mod1$residuals)
?arima
mod1 <- lm(Adj.Close ~ IRX+FVX, data=final)
#aic5.wge(mod1$residuals) yields ARIMA(2,1,0)
arimamod1 <- arima(Adj.Close,order = c(2,1,0),xreg=final %>% select(c(IRX, FVX)))
mod1 <- lm(Adj.Close ~ IRX+FVX, data=final)
#aic5.wge(mod1$residuals) yields ARIMA(2,1,0)
arimamod1 <- arima(final$Adj.Close,order = c(2,1,0),xreg=final %>% select(c(IRX, FVX)))
tswge::ljung.wge(arimamod1$residuals)
summary(arimamod1)
broom::tidy(arimamod1)
mod1 <- lm(Adj.Close ~ IRX+FVX, data=final)
#aic5.wge(mod1$residuals) yields ARIMA(2,1,0)
arimamod1 <- arima(final$Adj.Close,order = c(2,1,0),xreg=final %>% select(c(FVX)))
tswge::ljung.wge(arimamod1$residuals)
broom::tidy(arimamod1)
ccf(d1fvx, d1aapl)
mod1 <- lm(Adj.Close ~ IRX+FVX, data=final)
#aic5.wge(mod1$residuals) yields ARIMA(2,1,0)
arimamod1 <- arima(final$Adj.Close,order = c(2,1,0),xreg=final %>% select(c(IRX, FVX)))
tswge::ljung.wge(arimamod1$residuals)
broom::tidy(arimamod1)
final_lag = final
?dplyr::lag
final_lag = final
final_lag = final_lag$FVX %>% dplyr::lag(n=1)
d1fvxlag1 = artrans.wge(final_lag$FVX)
final_lag = final
final_lag = final_lag$FVX %>% dplyr::lag(n=1)
d1fvxlag1 = artrans.wge(final_lag$FVX, phi.tr=1)
final_lag = final
final_lag$FVX = final_lag$FVX %>% dplyr::lag(n=1)
d1fvxlag1 = artrans.wge(final_lag$FVX, phi.tr=1)
final = final %>% mutate(fvxlag1 = lag(FVX, n=1))
d1fvxlag1 = artrans.wge(final$fvxlag1, phi.tr=1)
View(final)
final = final %>% mutate(fvxlag1 = lag(FVX, n=1))
d1fvxlag1 = artrans.wge(final$fvxlag1, phi.tr=1)
fvxlag1 = dplyr::lag(final$FVX, n=1)
d1fvxlag1 = artrans.wge(fvxlag1, phi.tr=1)
fvxlag1 = dplyr::lag(final$FVX, n=1)
d1fvxlag1 = artrans.wge(fvxlag1[2:], phi.tr=1)
fvxlag1 = dplyr::lag(final$FVX, n=1)
d1fvxlag1 = artrans.wge(fvxlag1[-1], phi.tr=1)
ccf(d1fvxlag1, d1aapl)
fvxlag1 = dplyr::lag(final$FVX, n=1)
d1fvxlag1 = artrans.wge(fvxlag1[-1], phi.tr=1)
ccf(d1fvxlag1, d1aapl)
d1fvxlag1 = d1fvx %>% lag(n=1)
ccf(d1fvxlag1, d1aapl)
d1fvxlag1 = d1fvx %>% lag(n=1)
ccf(d1fvxlag1, d1aapl,na.action = na.pass)
?na.pass
d1fvxlag1 = d1fvx %>% lag(n=1)
ccf(d1fvxlag1, d1aapl,na.action = na.omit)
d1fvxlag1 = d1fvx %>% lag(n=1)
ccf(d1fvxlag1, d1aapl,na.action = na.exclude)
d1fvxlag1 = d1fvx %>% lag(n=1)
ccf(d1fvxlag1, d1aapl,na.action = na.pass)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tswge)
apple <- read.csv("kdata/AAPL.csv")
irx <- read.csv("kdata/IRX.csv")
fvx <- read.csv("kdata/FVX.csv")
ixic <- read.csv("kdata/IXIC.csv")
ixic$Adj.Close <- as.numeric(ixic$Adj.Close)
irx$Adj.Close <- as.numeric(irx$Adj.Close)
fvx$Adj.Close <- as.numeric(fvx$Adj.Close)
ixic2 <- drop_na(ixic, Adj.Close) %>% select(c(Date, Adj.Close))
irx2 <- drop_na(irx, Adj.Close) %>% select(c(Date, Adj.Close))
fvx2 <- drop_na(fvx, Adj.Close) %>% select(c(Date, Adj.Close))
colnames(ixic2) <- c("Date", "IXIC")
colnames(irx2) <- c("Date", "IRX")
colnames(fvx2) <- c("Date", "FVX")
final = right_join(apple, irx2, by="Date")
final = right_join(final, fvx2, by="Date")
final = right_join(final, ixic2, by="Date")
final <- final %>% mutate(rel_yield = FVX/IRX)
View(final)
ixic$Adj.Close <- as.numeric(ixic$Adj.Close)
irx$Adj.Close <- as.numeric(irx$Adj.Close)
fvx$Adj.Close <- as.numeric(fvx$Adj.Close)
ixic2 <- drop_na(ixic, Adj.Close) %>% select(c(Date, Adj.Close))
irx2 <- drop_na(irx, Adj.Close) %>% select(c(Date, Adj.Close))
fvx2 <- drop_na(fvx, Adj.Close) %>% select(c(Date, Adj.Close))
colnames(ixic2) <- c("Date", "IXIC")
colnames(irx2) <- c("Date", "IRX")
colnames(fvx2) <- c("Date", "FVX")
final = right_join(apple, irx2, by="Date")
final = right_join(final, fvx2, by="Date")
final = left_join(final, ixic2, by="Date")
final <- final %>% mutate(rel_yield = FVX/IRX)
View(final)
d1aapl = artrans.wge(final$Adj.Close, phi.tr=1)
d1fvx = artrans.wge(final$FVX, phi.tr=1)
d1ixic = artrans.wge(final$IXIC, phi.tr=1)
ccf(d1ixic, d1aapl)
mod1 <- lm(Adj.Close ~ IRX+FVX, data=final)
#aic5.wge(mod1$residuals) yields ARIMA(2,1,0)
arimamod1 <- arima(final$Adj.Close,order = c(2,1,0),xreg=final %>% select(c(IRX, FVX, IXIC)))
tswge::ljung.wge(arimamod1$residuals)
broom::tidy(arimamod1)
X = cbind(d1ixic,d1fvx,d1aapl)
VARSelect(X, log.max=6, type="const")
library(vars)
X = cbind(d1ixic,d1fvx,d1aapl)
VARSelect(X, log.max=6, type="const")
library(vars)
X = cbind(d1ixic,d1fvx,d1aapl)
VARselect(X, log.max=6, type="const")
library(vars)
X = cbind(d1ixic,d1fvx,d1aapl)
VARselect(X, lag.max = 6, type="const")
library(vars)
X = cbind(d1ixic,d1fvx,d1aapl)
VARselect(X, lag.max = 10, type="const")
library(vars)
X = cbind(d1ixic,d1fvx,d1aapl)
VARselect(X, lag.max = 12, type="const")
library(vars)
X = cbind(d1ixic,d1fvx,d1aapl)
VARselect(X, lag.max = 10, type="const")
varfit = VAR(X, p=9, type="const")
Y = read.csv("Appl.data.csv")
VARSELECT(Y, lag.max=10, type="const")
Y = read.csv("Appl.data.csv")
VARselect(Y, lag.max=10, type="const")
View(Y)
Y = read.csv("Appl.data.csv")
VARselect(Y %>% select(-c(Date)), lag.max=10, type="const")
Y = read.csv("Appl.data.csv")
Y = Y %>% select(-c(Date))
Y = read.csv("Appl.data.csv")
Y = Y %>% select_if(.isnumeric)
Y = read.csv("Appl.data.csv")
Y = Y %>% select_if(is.numeric)
VARselect(Y, lag.max=10, type="const")
varsinkfit = VAR(Y, p=4, type="const")
dim(varsinkfit)
length(varsinkfit$datamat)
dim(varsinkfit$datamat)
View(Y)
dim(varsinkfit$y)
dim(varsinkfit$y)
class(varsinkfit)
mod1$rank
mod1$fitted.values
dimmod1$fitted.values)
dim(mod1$fitted.values)
length(mod1$fitted.values)
?pred
?predict
Y[2]
Y[:,2]
Y[,2]
Y[,2:3]
install.packages("bigtime")
install.packages("rugarch")
